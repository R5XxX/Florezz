<!doctype html>

<html lang="es">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Jocelyn - Día de las flores amarillas</title>
<style>
:root{--bg-accent:#fcfcec;}
*{box-sizing:border-box;}
html,body{height:100%;margin:0;font-family:'Georgia', serif;overflow:hidden;}
body{
  background-image:url('https://i.imgur.com/umhxdOx.jpeg');
  background-size:cover;
  background-position:center;
  background-repeat:no-repeat;
  position:relative;
}
.page{
  position:relative;
  width:100%;
  height:100vh;
}
.top-text{
  position:absolute;
  top:20px;
  left:50%;
  transform:translateX(-50%);
  font-size:clamp(36px,5vw,64px);
  color:black;
  text-align:center;
  text-shadow:2px 2px 8px rgba(255,255,255,0.9);
  white-space:normal;
  max-width:90%;
  word-break:break-word;
  z-index:15;
}
button{
  position:fixed;
  bottom:30px;
  left:50%;
  transform:translateX(-50%);
  padding:12px 22px;
  background:var(--bg-accent);
  color:#000;
  border:3px solid #000;
  border-radius:28px;
  font-size:18px;
  cursor:pointer;
  opacity:0;
  transform:translateX(-50%) scale(0.95);
  transition:all 300ms ease;
  z-index:20;
}
button.show{
  opacity:1;
  transform:translateX(-50%) scale(1);
  animation:glow 1.5s infinite;
}
@keyframes glow{
  0%{box-shadow:0 0 6px rgba(255,255,200,0);}
  50%{box-shadow:0 0 18px rgba(255,255,200,0.9);}
  100%{box-shadow:0 0 6px rgba(255,255,200,0);}
}
#emojiContainer{
  position:absolute;inset:0;
  pointer-events:none;
  z-index:10;
  overflow:hidden;
}
.emoji{
  position:absolute;
  top:-80px;
  font-size:28px;
  user-select:none;
  animation-name:fall,sway,spin;
  animation-timing-function:linear;
  animation-iteration-count:1;
  opacity:0.95;
}
@keyframes fall{to{transform:translateY(120vh);opacity:0.8;}}
@keyframes sway{0%{transform:translateY(0) translateX(0);}50%{transform:translateY(50vh) translateX(14px);}100%{transform:translateY(120vh) translateX(-10px);}}
@keyframes spin{0%{transform:rotate(0);}100%{transform:rotate(360deg);}}
#countOverlay{
  position:absolute;
  inset:0;
  display:none;
  align-items:center;
  justify-content:center;
  z-index:25;
  background:rgba(252,252,236,0.95);
}
#countBox{
  background:var(--bg-accent);
  padding:36px 44px;
  border-radius:16px;
  border:3px solid #000;
  box-shadow:0 8px 30px rgba(0,0,0,0.15);
  text-align:center;
}
#countDownNumber{font-size:64px;font-weight:700;color:#000;}
#userVideo{
  position:absolute;
  inset:0;
  margin:auto;
  width:min(90vw,1000px);
  height:auto;
  display:none;
  z-index:30;
  border-radius:12px;
  box-shadow:0 12px 40px rgba(0,0,0,0.35);
}
#bgAudio{display:none;}
</style>
</head>
<body>
<div class="page">
  <div id="topText" class="top-text" aria-live="polite"></div>
  <button id="dameButton">𝑫𝒂𝒎𝒆 𝒄𝒍𝒊𝒄𝒌𝒌</button>
  <button id="repeatButton">Repetir</button>
</div>
<div id="emojiContainer"></div>
<div id="countOverlay">
  <div id="countBox">
    <div id="countDownNumber">5</div>
    <div style="margin-top:8px;font-size:16px;color:#333">Preparando el video...</div>
  </div>
</div>
<video id="userVideo" loop playsinline muted>
  <source src="https://i.imgur.com/uYiwYzE.mp4" type="video/mp4">
</video>
<audio id="bgAudio" loop>
  <source src="https://www.dropbox.com/scl/fi/c8682aezsuvkfmwcdixd1/Eres_mixed.mp3?rlkey=bs0i3nubrleqn7ql1xx6ctk9n&st=uvq642vs&dl=1" type="audio/mpeg">
</audio>
<script>
const text="𝑯𝒐𝒍𝒂 𝑱𝒐𝒄𝒆𝒍𝒊𝒏𝒄𝒊𝒕𝒂 𝒃𝒐𝒏𝒊𝒕𝒂 𝒑𝒂𝒓𝒂 𝒕𝒊 🫶🏼";
const chars=Array.from(text);
const topText=document.getElementById('topText');
const dameBtn=document.getElementById('dameButton');
const repeatBtn=document.getElementById('repeatButton');
const emojiContainer=document.getElementById('emojiContainer');
const countOverlay=document.getElementById('countOverlay');
const countNumber=document.getElementById('countDownNumber');
const userVideo=document.getElementById('userVideo');
const bgAudio=document.getElementById('bgAudio');let typingSpeed=70; let emojiInterval; let emojiRunning=false;

function startTyping(){ topText.textContent=''; let i=0; const t=setInterval(()=>{ topText.textContent+=chars[i]??''; i++; if(i>=chars.length){ clearInterval(t); dameBtn.classList.add('show'); } },typingSpeed); }

function startEmojis(){ if(emojiRunning) return; emojiRunning=true; emojiInterval=setInterval(()=>{createEmoji();},220); } function stopEmojis(){clearInterval(emojiInterval);emojiRunning=false;}

const emojiChoices=['🏵','🌼']; function createEmoji(){ const el=document.createElement('div'); el.className='emoji'; el.textContent=emojiChoices[Math.floor(Math.random()*emojiChoices.length)]; const startX=Math.random()*100; const size=18+Math.random()*36; el.style.left=startX+'vw'; el.style.fontSize=size+'px'; const duration=3500+Math.random()*4500; el.style.animationDuration=duration+'ms'; emojiContainer.appendChild(el); setTimeout(()=>{el.remove();},duration+200); }

function showCountdown(seconds){ countOverlay.style.display='flex'; countNumber.textContent=seconds; let n=seconds; const iv=setInterval(()=>{ n--; if(n<0){ clearInterval(iv); countOverlay.style.display='none'; stopEmojis(); showVideo(); setTimeout(()=>{repeatBtn.classList.add('show');},5000); } else { countNumber.textContent=n; } },1000); }

function showVideo(){ userVideo.style.display='block'; userVideo.play().catch(()=>{}); }

function resetAnimation(){ repeatBtn.classList.remove('show'); userVideo.pause(); userVideo.currentTime=0; startTyping(); }

// Botón dame clickk siempre activa música, emojis y cuenta regresiva dameBtn.addEventListener('click',()=>{ // Primer toque activa música y emojis si no se ha hecho aún if(!emojiRunning){ bgAudio.play().catch(()=>{}); startEmojis(); } dameBtn.classList.remove('show'); showCountdown(5); });

repeatBtn.addEventListener('click',()=>{ resetAnimation(); });

startTyping(); </script>

</body>
</html>
